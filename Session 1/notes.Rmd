---
title: "Session 1 - R Basics"
author: "Jongbin Jung"
date: "December 18, 2015"
output: 
  beamer_presentation: 
    fig_height: 5
    fig_width: 5
    fonttheme: professionalfonts
    highlight: zenburn
    theme: boxes
---

## Dependencies

- Latest version ($\ge$ `3.1.2`) of `R`  
  (*free* from <https://www.r-project.org/>)
- Latest version of `Rstudio` 
  (also *free* from <https://www.rstudio.com/>)
- A bunch of *free* packages

```{r, eval=FALSE}
install.packages('dplyr')
install.packages('ggplot2')
```

## `Rstudio` Basics
![Screenshot of Rstudio](../img/r-studio.png)

## `Rstudio` Basics
- `Ctrl` + `#`: Focus on panel `#`
- `Ctrl` + `Enter`: Execute selection
- `Ctrl` + `Shift` + `C`: Comment/Uncomment selection
- Many more (if you're willing to explore)

# `R` Basics

## `R` Basics: Working Directory
 - Working directory (`wd`) is where your `R` session will load/save files 
 - To see where your current working directory is, run
```{r, eval=FALSE}
getwd()
```
 - To set the working directory to desired `path`, run
```{r, eval=FALSE}
setwd("path")
```
 - Note that `~` is replaced with your `HOME` directory, e.g. 
 `C:\Users\Username\` in windows
 - Use forward slashes (`/`), even on Windows!
```{r, eval=FALSE, tidy=TRUE}
setwd("~/Documents/R")  
```

## `R` Basics: Math Operations
- Simple math operations
```{r, eval=FALSE}
3+11  # add stuff
3-11  # subtract stuff
3/11  # divide stuff
3*11  # multiply stuff
2^10  # raise to powers
```

## `R` Basics: Assignments
 - Convention for assigning values to variables is `<-`
 - Direction of arrow indicates direction of assignment
```{r, eval=FALSE}
A <- 12
A  # 12
A + 3 -> B
B  # 15
24 -> A
A  # 24
```
 - The equal sign (`=`) also works, but only for assignment to the left, e.g.
```{r, eval=FALSE}
A = 12  # good
12 = A  # BAD
```

## `R` Basics: Strings
- A `String` variable can be declared in either double quotes(`""`) or 
single quotes (`''`)
```{r}
str <- "This is a valid string"
str
str <- 'and so is this'
str
```

## `R` Basics: Re-Assignments
 - A variable can be re-assigned to anything
```{r}
x <- 860306  # first x is assigned a number
x
x <- 'This is a variable!' 
x  # Now it is a string

```

# Vectors

## Vectors: `c()`
 - Vectors in `R` are created by *c*oncatenating a series of elements
```{r}
X <- c(1,2,3)
X  # vector of numbers (1, 2, 3)
Y <- c('this', 'that', 'those')
Y  # this is a vector of Strings
```

## Vectors: `seq()` 
- Create a vector from a sequence with `seq(from, to, by=1)`
```{r}
seq(1, 10)
seq(1, 10, 2)
```
- Use short-hand `from:to` if you're incrementing by one
```{r}
1:10
```

## Vectors: `rep()`
 - Use `rep()` to repeat values
```{r}
rep(13, 4)
rep('Yes!', 3)
rep(c('Sat.', 'Sun.'), 2)
```

## Vectors: `r`*`dist`*`()`
- Generate vector of $n$ samples from a specified distribution
```{r, eval=FALSE}
runif(n = 10)  # 10 samples from Unif(0, 1)
rnorm(n = 10)  # 10 samples from Norm(0, 1)
rpois(n = 10)  # 10 samples from Poisson(1)
rexp(n = 10)  # 10 samples from Exp(1)
```
- Distribution parameters can be specified as arguments, e.g.
```{r, eval=FALSE}
# 100 samples from a Norm(20, 5) distribution
rnorm(n = 100, mean = 20, sd = 5)
```
- Read documentation for available distributions
```{r}
?Distributions
```

## Vectors: Indexing
- Use square braces (`[]`) to index a vector (base 1)
```{r}
X <- c(10, 11, 12, 13)
X[1]
X[4]
X[5]
```

## Vectors: Indexing (cont'd)
- Negative indexing is used to exclude elements
```{r}
X[-1]
```
- Index multiple objects by indexing with a vector
```{r}
ind <- c(2, 4)
X[ind]
```

## Vectors: Re-assignment with Indices
- Replace elements by re-assigning with index
```{r}
X[1] <- 101
X
```
- Replace multiple elements as well
```{r}
X[2:3] <- c(22, 33)
X
```

## Vectors: Add Elements by Index
- Add new elements to a vector by assigning
```{r}
X[5]
X[5] <- 555
X
```

## Vectors: Advanced Indexing
- Vectors can be indexed by a binary vector (`TRUE/FALSE`) of equal length
- i.e., you can index vectors by a specified condition, e.g.,
```{r}
X <- 1:100
# create a binary vector with the same length of X
# where the element is TRUE if the element of X
# in the corresponding position satisfies condition
ind <- X > 95  
tail(ind)  # take a peek at the last few entries
X[ind]
```

# Matrices

## Creating Matrices
- A matrix is created from a vector, using `matrix()`, e.g.
```{r}
X <- c(1:12)
# syntax: matrix(vector, # of rows, # of columns)
A <- matrix(X, 3, 4)
A
```

- Notice that the matrix is created column-first

## Matrix Indexing
- Similar to vectors, a matrix can be indexed with square braces,
with the syntax `[row #, col #]`, e.g.
- Leaving an entry empty will result in the full row/column
```{r}
A[3,2]  # third row, second column
A[2,]   # entire second row
A[,4]   # entire fourth column
```

# Vector/Matrix Operations

## Vector Operations
```{r}
X = c(1:4)
t(X)  # transpose (column) vector X to row vector
X + X  # element-wise summation
X - X  # element-wise subtraction
```

## Vector Operations (cont'd)
```{r}
X^3   # element-wise exponentiation
X * X  # element-wise multiplication
X %*% X  # dot (inner) product
```

## Matrix Operations
```{r}
A = matrix(1:4, 2, 2)  # create 2x2 matrix
t(A)  # transpose (column) vector A to row vector
A + A  # element-wise summation
A - A  # element-wise subtraction
```

## Matrix Operations (cont'd)
```{r}
A^3   # element-wise exponentiation
A * A  # element-wise multiplication
A %*% A  # dot (inner) product
```

## Matrix Operations: Warning
- Dimensions must make sense!
```{r, error=TRUE}
A <- matrix(1:6, 2, 3)
B <- matrix(1:6, 3, 2)
A %*% B  # 2x3 times 3x2: OK
A %*% A  # 2x3 times 2x3: Nope
```

## Vector/Matrix Comparisons
- Comparisons are all done element-wise
```{r}
c(1, 2, 3) == c(1, 2, 4)
c(1, 2, 3) < c(1, 2, 4)
c(1, 2, 3) >= c(1, 2, 4)
```
- Note the double equal sign for comparing equality (one would be assignment!)

## Helpful Vector Functions
- If possible, avoid `loops` by operating over the Vector/Matrix as a whole
```{r, eval=FALSE}
mean(X)					# mean
sd(X)					# standard deviation
var(X)					# variance
max(X)      			# maximum
min(X)      			# minimum
median(X)				# median
sum(X)      			# sum
prod(X)					# product
quantile(X,probs=0.5)	# quantile for specified probs
length(X)   			# length of the vector
range(X)				# range
```

## Helpful Matrix Functions
- If possible, avoid `loops` by operating over the Vector/Matrix as a whole
```{r, eval=FALSE}
rowSums(A)	# Row sums
colSums(A)	# Column sums
rowMeans(A)	# Row means
colMeans(A)	# Columns means
diag(A)		# Diagonal of a matrix
solve(A)	# Inverse of a matrix
cov(A)		# Variance covariance matrix
cor(A)		# Correlation matrix
```

# Functions

## Some more built-in functions
- We've already seen many built-in functions, but here are some more!
```{r, eval=FALSE}
log(X)  # element-wise log 
exp(X)  # element-wise exponential 
sqrt(X)  # element-wise square root
```

## Functions for Strings
```{r}
# concatenate two (or more) strings
paste('one plus one equals', 1+1, '!')  
# specify a separator
paste('one plus one', 1+1, sep='=')  
# if you're into C-style formatting ...
sprintf('one plus one = %d', 1+1)
```

## Functions for Strings (cont'd)
- Often, we want to concatenate strings with no spaces 
(e.g., when constructing filenames/paths in run-time)
```{r}
# short-hand for concatenation w/o spaces
filename = 'some_file_name'
paste0('path/to/', filename, '.csv')  
```

## Functions for Strings (cont'd)
- To enforce upper/lower cases
```{r}
s <- 'SoMe CraZY STRING'
tolower(s)
toupper(s)
```

## Generic Functions
- Some functions for exploring objects
```{r}
obj <- 1:100
head(obj, n=5)  # display first n rows of obj
tail(obj, n=5)  # display last n rows of obj
str(obj)  # display structure of obj
summary(obj)  # display summary of obj
```

## lalala
```{r}
summary(cars)
```

## Slide with Plot

```{r, echo=FALSE}
plot(cars)
```

